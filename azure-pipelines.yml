# Maven
# Build your Java project and run tests with Apache Maven.
# Add steps that analyze code, save build artifacts, deploy, and more:
# https://docs.microsoft.com/azure/devops/pipelines/languages/java

# pipeline.yml
 
# Definir las etapas del pipeline
stages:
  - build
  - sonar
 
# Etapa de construcción
build:
  image: maven:3.8.1
  stage: build
  script:
    - mvn clean package
 
# Etapa de análisis con SonarCloud
sonar:
  image: maven:3.8.1
  stage: sonar
  script:
    - mvn sonar:sonar -Dsonar.projectKey=Fabrica_g6_v2 -Dsonar.organization=fabricaescuelag6 -Dsonar.host.url=https://sonarcloud.io -Dsonar.login=6af2d32d985705be90ae8aa30f4c88dc29ad830d
